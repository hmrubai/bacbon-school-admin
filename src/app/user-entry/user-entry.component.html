<block-ui>
    <div class="row">
        <div class="col-lg-12">
            <div class="row">
                <div class="col-sm-12">
                    <div class="card card-border-default">
                        <div class="card-header">
                            <h5 [innerHtml]="formTitle"></h5>
                            <!-- <button class="btn btn-secondary btn-sm float-right" [routerLink]="[ '/employee' ]"><i
                                  class=" feather icon-list "></i> Employee List</button> -->
                        </div>

                        <div class="card-body">
                            <div class="row">
                                <div class="col-lg-8 col-md-7 col-12">
                                    <form [formGroup]="entryForm" autocomplete="off" class="row">
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label class="col-form-label required">
                                                    Email </label>
                                                <label *ngIf="f.id.value" class="col-form-label font-weight-bold w-100">
                                                    {{f.Email.value}}
                                                </label>
                                                <input *ngIf="!f.id.value" formControlName="Email"
                                                    [ngClass]="{ 'is-invalid': submitted && f.Email.errors }"
                                                    type="email" class="form-control" autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <div class="form-group">
                                                <label class="col-form-label required">
                                                    First Name </label>
                                                <input formControlName="FirstName"
                                                    [ngClass]="{ 'is-invalid': submitted && f.FirstName.errors }"
                                                    type="text" class="form-control" autocomplete="off">
                                                <div *ngIf="submitted && f.FirstName.errors" class="error-text">
                                                    <span *ngIf="f.FirstName.errors.required" class="text-danger">First
                                                        Name is
                                                        required</span>
                                                    <span *ngIf="f.FirstName.errors.minlength" class="text-danger">First
                                                        Name
                                                        must atleast of
                                                        2
                                                        characters</span>
                                                    <span *ngIf="f.FirstName.errors.maxlength" class="text-danger">First
                                                        Name must be not
                                                        then 50
                                                        characters</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <div class="form-group">
                                                <label class="col-form-label required">
                                                    Last Name </label>
                                                <input formControlName="LastName" name="LastName"
                                                    [ngClass]="{ 'is-invalid': submitted && f.LastName.errors }"
                                                    type="text" class="form-control" autocomplete="new-LastName"
                                                    required>
                                                <div *ngIf="submitted && f.LastName.errors" class="error-text">
                                                    <span *ngIf="f.LastName.errors.required" class="text-danger">Last
                                                        Name is
                                                        required</span>
                                                    <span *ngIf="f.LastName.errors.minlength" class="text-danger">Last
                                                        Name must atleast of
                                                        2
                                                        characters</span>
                                                    <span *ngIf="f.LastName.errors.maxlength" class="text-danger">Last
                                                        Name must be not then
                                                        50
                                                        characters</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <div class="form-group">
                                                <label class="col-form-label required">
                                                    Password </label>
                                                <label *ngIf="f.id.value" class="col-form-label font-weight-bold w-100">
                                                    {{f.Password.value}}
                                                </label>
                                                <input *ngIf="!f.id.value" type="password" appBlockCopyPaste
                                                    formControlName="Password" class="form-control"
                                                    [ngClass]="{ 'is-invalid': submitted && f.Password.errors }"
                                                    autocomplete="off" required>
                                                <div *ngIf="submitted && f.Password.errors" class="error-text">
                                                    <span *ngIf="f.Password.errors.required"
                                                        class="text-danger">Password is
                                                        required</span>
                                                    <span *ngIf="f.Password.errors.minlength"
                                                        class="text-danger">Password must
                                                        be 6 characters minimum</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <div class="form-group">
                                                <label class="col-form-label">Active
                                                </label>
                                                <div class="custom-control custom-checkbox col-form-label">
                                                    <input type="checkbox" class="custom-control-input" id="IsActive"
                                                        formControlName="IsActive">
                                                    <label class="custom-control-label" for="IsActive"></label>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-lg-4 col-md-5 col-12" *ngIf="permissionList.length > 0">
                                    <div class="row">
                                        <div class="card">
                                            <div class="card-header pt-2 pb-2">
                                                <h5 class="card-title">Permissions</h5>
                                                <label class="float-right mb-0">
                                                    <input type="checkbox" (change)="onSelectAll($event)">
                                                    <span class="cr">
                                                        <i class="cr-icon icofont icofont-ui-check txt-primary"></i>
                                                    </span>
                                                    <span class="text-inverse"> Select All</span>
                                                </label>

                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-12"
                                                        *ngFor="let permission of permissionList; let i = index">
                                                        <label>
                                                            <input type="checkbox" [ngModelOptions]="{standalone: true}"
                                                                [(ngModel)]="permission.IsSelected">
                                                            <span class="cr"><i
                                                                    class="cr-icon icofont icofont-ui-check txt-primary"></i></span>
                                                            <span class="text-inverse">&nbsp; {{permission.Name}}</span>
                                                        </label>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="card-footer">
                            <div class="row">
                                <div class="col-lg-2 offset-lg-4 col-md-3 offset-md-3 col-sm-6">
                                    <button class="btn btn-outline-secondary btn-sm btn-block"
                                        [routerLink]="[ '/user-list']"><i class=" feather icon-arrow-left "></i>
                                        Go back to list</button>
                                </div>

                                <div class="col-lg-2 col-md-3 col-sm-6">
                                    <button class="btn btn-secondary btn-sm btn-block" (click)="onFormSubmit()"><i
                                            class=" feather icon-check "></i> {{btnSaveText}}</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</block-ui>